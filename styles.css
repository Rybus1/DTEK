:root {
  --bg: #0b0f14;
  --card: #0f1722;
  --text: #e6edf3;
  --muted: #94a3b8;
  --border: #243248;
  --accent: #ebe555;
  --off: #64748b;
  --unknown: #374151;
  --pill-text-dark: #0b0f14;
  --danger: #fbbf24;
}

[data-theme="light"] {
  --bg: #fbf5e6;
  --card: #fffcf7;
  --text: #2b2b23;
  --muted: #6b6a5f;
  --border: #efe6d6;
  --accent: #ebe555;
  --off: #b4bbc4;
  --unknown: #c0c5c9;
  --pill-text-dark: #1f1b16;
  --danger: #b45309;
}

* { box-sizing: border-box }

html, body { height: 100% }

body {
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, Helvetica;
  background: var(--bg);
  color: var(--text);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background .18s ease, color .18s ease;
}

.wrap {
  max-width: 1100px;
  margin: 0 auto;
  padding: 18px;
}

.card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 14px;
}

.row {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}

.row--tight { gap: 8px }
.row--between { justify-content: space-between }
.row--center { align-items: center }

.field { min-width: 160px }
.field--grow { flex: 1; min-width: 240px }

label {
  font-size: 12px;
  opacity: .85;
  display: block;
  margin-bottom: 6px;
}

select,
button {
  background: transparent;
  border: 1px solid var(--border);
  color: var(--text);
  border-radius: 10px;
  padding: 10px 12px;
  font-size: 14px;
}

button { cursor: pointer }
button:hover { border-color: rgba(54, 80, 122, .9) }

.mt { margin-top: 12px }

.muted { opacity: .75 }
.danger { color: var(--danger) }
.ok { color: var(--accent) }

.legend {
  display: flex;
  gap: 14px;
  flex-wrap: wrap;
  font-size: 12px;
}

.dot {
  width: 10px;
  height: 10px;
  border-radius: 3px;
  display: inline-block;
  margin-right: 6px;
  vertical-align: middle;
  border: 1px solid rgba(0, 0, 0, .33);
}
.dot.on { background: var(--accent) }
.dot.off { background: var(--off) }
.dot.unknown { background: var(--unknown) }

.timeline { margin-top: 10px }

.t-head {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin: 10px 0 6px;
  gap: 10px;
  flex-wrap: wrap;
}

/* ===== Старий режим: вертикальні "пилюльки" ===== */

.vgrid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
  border-radius: 12px;
  padding: 10px;
  background: transparent;
}

.col {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.slot {
  display: flex;
  align-items: center;
  width: 100%;
}

.pill {
  height: 36px;
  border-radius: 999px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 10px;
  font-size: 16px;
  font-weight: 600;
  line-height: 1;
  font-variant-numeric: tabular-nums;
  letter-spacing: .6px;
  border: 1px solid rgba(0, 0, 0, .12);
  user-select: none;
  width: 100%;
  color: var(--pill-text-dark);
}

.pill.on { background: var(--accent); color: var(--pill-text-dark) }
.pill.off { background: var(--off); color: var(--text) }
.pill.unknown { background: var(--unknown); color: var(--text) }

/* ===== Новий режим: горизонтальна лінія ===== */

.timeline-line {
  height: 42px;
  display: flex;
  border-radius: 999px;
  overflow: hidden;
  border: 1px solid var(--border);
  background: var(--unknown);
}

.segment {
  height: 100%;
  position: relative;
  flex: 0 0 auto;
}

.segment.on { background: var(--accent) }
.segment.off { background: var(--off) }
.segment.unknown { background: var(--unknown) }

.seg-label {
  position: absolute;
  left: 6px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 11px;
  font-weight: 700;
  letter-spacing: .3px;
  font-variant-numeric: tabular-nums;
  color: var(--pill-text-dark);
  opacity: .95;
  pointer-events: none;
  user-select: none;
  white-space: nowrap;
  text-shadow: 0 1px 0 rgba(255,255,255,.08);
}

/* Малі сегменти — щоб підпис не ліз у хаос */
.segment[data-short="1"] .seg-label {
  display: none;
}

.raw { margin-top: 12px }

pre {
  white-space: pre-wrap;
  word-break: break-word;
  background: transparent;
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 10px;
}

.footer {
  margin-top: 10px;
  font-size: 12px;
  color: var(--muted);
}

@media(max-width:720px) {
  .vgrid { grid-template-columns: repeat(2, minmax(72px, 1fr)) }
  .pill { height: 32px; font-size: 16px }
  .timeline-line { height: 40px }
}
